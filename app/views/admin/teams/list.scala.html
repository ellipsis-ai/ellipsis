@import java.time.format.DateTimeFormatter
@import java.time.LocalDateTime
@import java.time.ZoneId
@import java.time.format.TextStyle
@import java.util.Locale
@import json.AdminTeamData

@(
  config: ViewConfig,
  teams: Seq[AdminTeamData],
  teamCount: Int,
  currentPage: Int,
  pageSize: Int,
  pageCount: Int)(implicit messages: Messages, r: RequestHeader
)


@page.main("Teams", config, Seq(NavItem.admin)) {
  <div class="container">
    <h4>@teamCount Teams</h4>
    <div class="columns">
    @teams.map { team =>
      <div class="column column-one-third narrow-column-half mobile-column-full mbl">
        <div class="border bg-white pal">
          <h4 class="mtn">
            <a href="@controllers.routes.ApplicationController.teamHome(team.id).url">@team.name</a>
          </h4>
          <div class="type-s">
            <p>
              Created:
              @team.createdAt.format(
                DateTimeFormatter.ofPattern("EEE, dd MMM yyyy HH:mm:ss z").
                  withLocale(java.util.Locale.ENGLISH).
                  withZone(ZoneId.of("UTC"))
              )<br>
              Time zone: @team.timeZone
            </p>

            <p>
              <a href="@controllers.admin.routes.ManagedBehaviorGroupsController.list(team.id).url">Edit managed skills</a>
            </p>

            <div>
              <form>
                <div class="display-inline-block align-t">â€¦Bot shortcut enabled:</div>
                <div class="form-select form-select-s">
                  <select class="form-select-element">
                    <option @if(team.allowShortcutMention) { selected="selected" }>Yes</option>
                    <option @if(!team.allowShortcutMention) { selected="selected" }>No</option>
                  </select>
                </div>
                <button class="button button-s button-shrink align-t" type="submit">Update</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    }
    </div>

    @*
    if(teamCount != pageSize ) {
      <a href="?page=1">1</a>
      <a href="?page=@pageCount&perPage=@pageSize">@pageCount</a>
      @if(currentPage != 1) {
        <a href="?page=@{currentPage-1}&perPage=@pageSize">Previous</a>
      }
      @if(currentPage != pageCount) {
        <a href="?page=@{currentPage-1}">Next</a>
      }
    }
    *@
  </div>
}

