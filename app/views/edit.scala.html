@(
  teamAccess: models.accounts.UserTeamAccess,
  json: String,
  envVariablesJson: String,
  oauth2ApplicationsJson: String,
  justSaved: Boolean,
  notificationsJson: String
    )(implicit messages: Messages, r: RequestHeader)

@import play.filters.csrf._

@main("Ellipsis behavior editor", Some(teamAccess)) {
  @helper.javascriptRouter("jsRoutes")(
    routes.javascript.ApplicationController.regexValidationErrorsFor,
    routes.javascript.ApplicationController.versionInfoFor,
    routes.javascript.ApplicationController.submitEnvironmentVariables
  )
  <div id="content" class="content">
    <div>
      <div id="editorContainer"></div>
      <script src='@routes.Assets.versioned("lib/jshint/dist/jshint.js")'></script>
      <script>
        var BehaviorEditorConfiguration = {
          data: @Html(json),
          containerId: 'editorContainer',
          csrfToken: "@CSRF.getToken(r).map(_.value)",
          justSaved: @justSaved,
          envVariables: @Html(envVariablesJson),
          oauth2Applications: @Html(oauth2ApplicationsJson),
          notifications: @Html(notificationsJson)
        };
      </script>
      <script data-main='@routes.Assets.versioned("javascripts/behavior_editor/loader.js")' src='@routes.Assets.versioned("lib/requirejs/require.min.js")'></script>
    </div>
  </div>
}
