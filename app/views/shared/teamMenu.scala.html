@import helper._
@(
  teamAccess: models.accounts.user.UserTeamAccess
)(implicit r: RequestHeader)
<div class="column column-shrink align-r pts mobile-ptxs pbxs mobile-pbn">
  <form action='@routes.SocialAuthController.signOut()' method="POST" id="main-user-menu-container">
    @CSRF.formField
  <span class="link-light">
    <button class="button-subtle button-dropdown-trigger button-dropdown-trigger-no-icon mobile-phs" type="button" id="main-user-menu-button">
      <span class="display-inline-block align-t">
      @teamSymbol()
      </span>
      @teamAccess.maybeAdminAccessToTeam.map { team =>
      <span class="type-label display-inline-block align-t ptxs mlxs">
        @team.name
      </span>
      }.getOrElse {
        @teamAccess.maybeTargetTeam.flatMap(_.maybeNonEmptyName.map(name => {
            <span class="type-label display-inline-block align-t ptxs mlxs mobile-display-none">{name}</span>
        })).getOrElse("")
      }
    </button>
  </span>
  <div class="position-relative type-black">
    <ul class="type-s popup popup-dropdown-menu popup-dropdown-menu-right fade-in" id="main-user-menu" style="display: none">
      @teamAccess.loggedInTeam.maybeNonEmptyName.map(name => {
          <li class='type-disabled align-l phs pvxs display-ellipsis'>Signed into {name}</li>
      }).getOrElse("")
    <li><button type="submit" class="button-dropdown-item">Sign out</button></li>
    </ul>
  </div>
  </form>
</div>
