# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# An example controller showing a sample home page
GET         /                                         @controllers.ApplicationController.index(teamId: Option[String] ?= None)
GET         /intro                                    @controllers.ApplicationController.intro(teamId: Option[String] ?= None)
GET         /install_behaviors                        @controllers.ApplicationController.installBehaviors(teamId: Option[String] ?= None)
GET         /new_behavior                             @controllers.BehaviorEditorController.newBehavior(teamId: Option[String] ?= None)
GET         /edit_behavior/:id                        @controllers.BehaviorEditorController.edit(id: String, justSaved: Option[Boolean] ?= None)
GET         /export_behavior/:id                      @controllers.BehaviorImportExportController.export(id: String)
GET         /import_behavior_zip                      @controllers.BehaviorImportExportController.importZip(teamId: Option[String] ?= None)
POST        /import_behavior_zip                      @controllers.BehaviorImportExportController.doImportZip
POST        /import_behavior                          @controllers.BehaviorImportExportController.doImport
POST        /save_behavior                            @controllers.BehaviorEditorController.save
POST        /delete_behavior                          @controllers.BehaviorEditorController.delete
POST        /clone_behavior                           @controllers.BehaviorEditorController.duplicate
GET         /regex_validation_errors/:pattern         @controllers.BehaviorEditorController.regexValidationErrorsFor(pattern: String)
GET         /version_info/:behaviorId                 @controllers.BehaviorEditorController.versionInfoFor(behaviorId: String)
POST        /test_behavior_version                    @controllers.BehaviorEditorController.test

GET         /data_types                               @controllers.BehaviorBackedDataTypeController.list(teamId: Option[String] ?= None)
GET         /export_data_type/:id                     @controllers.BehaviorBackedDataTypeController.export(id: String)
GET         /import_data_type_zip                     @controllers.BehaviorBackedDataTypeController.importZip(teamId: Option[String] ?= None)
POST        /import_data_type_zip                     @controllers.BehaviorBackedDataTypeController.doImportZip
POST        /delete_data_type                         @controllers.BehaviorBackedDataTypeController.delete

POST        /submit_environment_variables             @controllers.EnvironmentVariablesController.submit
POST        /delete_environment_variable              @controllers.EnvironmentVariablesController.delete

GET         /list_oauth2_applications                 @controllers.OAuth2ApplicationController.list(teamId: Option[String] ?= None)
GET         /new_oauth2_application                   @controllers.OAuth2ApplicationController.newApp(requiredOAuth2ApiConfigId: Option[String] ?= None, teamId: Option[String] ?= None, behaviorId: Option[String] ?= None)
GET         /edit_oauth2_application/:id              @controllers.OAuth2ApplicationController.edit(id: String, teamId: Option[String] ?= None)
POST        /save_oauth2_application                  @controllers.OAuth2ApplicationController.save

GET         /list_oauth2_apis                         @controllers.OAuth2ApiController.list(teamId: Option[String] ?= None)
GET         /new_oauth2_api                           @controllers.OAuth2ApiController.newApi(teamId: Option[String] ?= None)
GET         /edit_oauth2_api/:id                      @controllers.OAuth2ApiController.edit(id: String, teamId: Option[String] ?= None)
POST        /save_oauth2_api                          @controllers.OAuth2ApiController.save

GET         /list_api_tokens                          @controllers.APITokenController.listTokens(tokenId: Option[String] ?= None)
POST        /create_api_token                         @controllers.APITokenController.createToken
POST        /revoke_api_token                         @controllers.APITokenController.revokeToken

GET         /list_environment_variables               @controllers.EnvironmentVariablesController.list(teamId: Option[String] ?= None)

GET         /authenticate/slack                       @controllers.SocialAuthController.authenticateSlack(redirect: Option[String] ?= None, team: Option[String] ?= None, channel: Option[String] ?= None)
GET         /install/slack                            @controllers.SocialAuthController.installForSlack(redirect: Option[String] ?= None, team: Option[String] ?= None, channel: Option[String] ?= None)
POST        /sign_out                                 @controllers.SocialAuthController.signOut
GET         /login_with_token/:token                  @controllers.SocialAuthController.loginWithToken(token: String, redirect: Option[String] ?= None)

GET         /add_to_slack                             @controllers.SlackController.add
GET         /sign_in_with_slack                       @controllers.SlackController.signIn(redirect: Option[String] ?= None)

GET         /link_oauth2/:configId                    @controllers.APIAccessController.linkCustomOAuth2Service(configId: String, code: Option[String], state: Option[String], invocationId: Option[String])
GET         /authenticated/:message                   @controllers.APIAccessController.authenticated(message: String)

GET         /admin/lambda_functions                   @controllers.AdminController.lambdaFunctions()
POST        /admin/redeploy/:versionId                @controllers.AdminController.redeploy(versionId: String)

GET         /metrics/invocations_by_day/:token        @controllers.VisibilityAPIController.invocationCountsByDay(token: String)

#POST        /authenticate/credentials        controllers.CredentialsAuthController.authenticate
#POST        /signUp                          controllers.SignUpController.signUp

GET         /get_item/:itemId/:itemType/:token        @controllers.DefaultStorage.getItem(itemId: String, itemType: String, token: String)
#NOCSRF
POST        /put_item                                 @controllers.DefaultStorage.putItem
#NOCSRF
POST        /api/post_message                         @controllers.APIController.postMessage

# Map static resources from the /public folder to the /assets URL path
GET         /assets/*file                             @controllers.RemoteAssets.getAsset(path="/public", file: Asset)
